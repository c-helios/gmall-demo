{"ast":null,"code":"import _regeneratorRuntime from \"/Users/hcw/vueProjects/gmall/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/hcw/vueProjects/gmall/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es.function.name.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nexport default {\n  name: 'Header',\n  data: function data() {\n    return {\n      keyword: ''\n    };\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.$bus.$on('clearKeyword', function () {\n      _this.keyword = '';\n    });\n  },\n  computed: {\n    // 用户名信息\n    userName: function userName() {\n      return this.$store.state.user.userInfo.name;\n    }\n  },\n  methods: {\n    goSearch: function goSearch() {\n      var location = {\n        name: 'search',\n        params: {\n          keyword: this.keyword || undefined\n        }\n      };\n\n      if (this.$route.query) {\n        location.query = this.$route.query;\n      }\n\n      this.$router.push(location);\n    },\n    // 退出登录\n    loginOut: function loginOut() {\n      var _this2 = this;\n\n      return _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _this2.$store.dispatch('reqGetLoginOut');\n\n              case 3:\n                _this2.$router.push('/login');\n\n                _context.next = 9;\n                break;\n\n              case 6:\n                _context.prev = 6;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0.message);\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 6]]);\n      }))();\n    }\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;EACAA,cADA;EAEAC,IAFA,kBAEA;IACA;MACAC;IADA;EAGA,CANA;EAOAC,OAPA,qBAOA;IAAA;;IACA;MACA;IACA,CAFA;EAGA,CAXA;EAYAC;IACA;IACAC,QAFA,sBAEA;MACA;IACA;EAJA,CAZA;EAkBAC;IACAC,QADA,sBACA;MACA;QACAP,cADA;QAEAQ;UACAN;QADA;MAFA;;MAMA;QACAO;MACA;;MACA;IACA,CAZA;IAaA;IACAC,QAdA,sBAcA;MAAA;;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA,wCAFA;;cAAA;gBAGA;;gBAHA;gBAAA;;cAAA;gBAAA;gBAAA;gBAKAC;;cALA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAOA;EArBA;AAlBA","names":["name","data","keyword","mounted","computed","userName","methods","goSearch","params","location","loginOut","console"],"sourceRoot":"src/components/Header","sources":["index.vue"],"sourcesContent":["<template>\n    <!-- 头部 -->\n    <header class=\"header\">\n        <!-- 头部的第一行 -->\n        <div class=\"top\">\n            <div class=\"container\">\n                <div class=\"loginList\">\n                    <p>尚品汇欢迎您！</p>\n                    <p v-if=\"!userName\">\n                        <span>请 </span>\n                        <router-link to=\"/login\">登录</router-link>\n                        <router-link class=\"register\" to=\"/register\">免费注册</router-link>\n                    </p>\n                    <p v-else>\n                        <a>{{userName}}</a>\n                        <a @click=\"LoginOut\">退出登录</a>\n                    </p>\n                </div>\n                <div class=\"typeList\">\n                    <a href=\"###\">我的订单</a>\n                    <a href=\"###\">我的购物车</a>\n                    <a href=\"###\">我的尚品汇</a>\n                    <a href=\"###\">尚品汇会员</a>\n                    <a href=\"###\">企业采购</a>\n                    <a href=\"###\">关注尚品汇</a>\n                    <a href=\"###\">合作招商</a>\n                    <a href=\"###\">商家后台</a>\n                </div>\n            </div>\n        </div>\n        <!--头部第二行 搜索区域-->\n        <div class=\"bottom\">\n            <h1 class=\"logoArea\">\n                <router-link class=\"logo\" title=\"尚品汇\" to=\"/home\" >\n                    <img src=\"./images/logo.png\" alt=\"\">\n                </router-link>\n            </h1>\n            <div class=\"searchArea\">\n                <form action=\"###\" class=\"searchForm\">\n                    <input type=\"text\" id=\"autocomplete\" class=\"input-error input-xxlarge\" v-model=\"keyword\" />\n                    <button class=\"sui-btn btn-xlarge btn-danger\" type=\"button\" @click=\"goSearch\">搜索</button>\n                </form>\n            </div>\n        </div>\n    </header>\n</template>\n<script>\nexport default {\n    name:'Header',\n    data() {\n        return {\n            keyword:'',\n        }\n    },\n    mounted() {\n        this.$bus.$on('clearKeyword', () => {\n            this.keyword = ''\n        })\n    },\n    computed: {\n        // 用户名信息\n        userName () {\n            return this.$store.state.user.userInfo.name\n        }\n    },\n    methods: {\n        goSearch(){\n            let location = {\n                name:'search', \n                params:{\n                    keyword:this.keyword || undefined\n                }\n            }\n            if (this.$route.query) {\n                location.query = this.$route.query\n            }\n            this.$router.push(location)\n        },\n        // 退出登录\n        async loginOut () {\n            try {\n                await this.$store.dispatch('reqGetLoginOut')\n                this.$router.push('/login')\n            } catch (error) {\n                console.log(error.message);\n            }\n        }\n    },\n    \n}\n</script>\n\n<style scoped lang=less>\n.header {\n    &>.top {\n        background-color: #eaeaea;\n        height: 30px;\n        line-height: 30px;\n\n        .container {\n            width: 1200px;\n            margin: 0 auto;\n            overflow: hidden;\n\n            .loginList {\n                float: left;\n\n                p {\n                    float: left;\n                    margin-right: 10px;\n\n                    .register {\n                        border-left: 1px solid #b3aeae;\n                        padding: 0 5px;\n                        margin-left: 5px;\n                    }\n                }\n            }\n\n            .typeList {\n                float: right;\n\n                a {\n                    padding: 0 10px;\n\n                    &+a {\n                        border-left: 1px solid #b3aeae;\n                    }\n                }\n\n            }\n\n        }\n    }\n\n    &>.bottom {\n        width: 1200px;\n        margin: 0 auto;\n        overflow: hidden;\n\n        .logoArea {\n            float: left;\n\n            .logo {\n                img {\n                    width: 175px;\n                    margin: 25px 45px;\n                }\n            }\n        }\n\n        .searchArea {\n            float: right;\n            margin-top: 35px;\n\n            .searchForm {\n                overflow: hidden;\n\n                input {\n                    box-sizing: border-box;\n                    width: 490px;\n                    height: 32px;\n                    padding: 0px 4px;\n                    border: 2px solid #ea4a36;\n                    float: left;\n\n                    &:focus {\n                        outline: none;\n                    }\n                }\n\n                button {\n                    height: 32px;\n                    width: 68px;\n                    background-color: #ea4a36;\n                    border: none;\n                    color: #fff;\n                    float: left;\n                    cursor: pointer;\n\n                    &:focus {\n                        outline: none;\n                    }\n                }\n            }\n        }\n    }\n}\n</style>"]},"metadata":{},"sourceType":"module"}